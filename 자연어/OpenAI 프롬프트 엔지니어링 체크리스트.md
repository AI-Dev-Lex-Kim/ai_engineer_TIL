# OpenAI 프롬프트 엔지니어링 체크리스트

이 체크리스트는 모델의 성능을 극대화하고, 예측 가능하며 신뢰할 수 있는 결과를 얻기 위해 프롬프트를 체계적으로 설계한다.

<br>

### 1단계: 기초 설계 및 구조화

이 단계는 프롬프트의 뼈대를 만드는 과정이다. 구조가 명확해야 모델이 혼동 없이 지시를 이해할 수 있다.

- [ ] **프롬프트의 명확한 목표를 한 문장으로 정의했는가?**
  - 가장 먼저 모델이 수행할 최종 목표를 명확히 해야 한다. 예를 들어, "사용자 리뷰 텍스트에서 감성을 '긍정', '부정', '중립'으로 분류한다." 와 같이 구체적으로 정의한다.
- [ ] **XML 태그를 사용하여 구조를 논리적으로 분리했는가?**
  - `<identity>`, `<instructions>`, `<examples>`, `<context>` 와 같이 XML 태그로 영역을 나누면 모델이 프롬프트의 각 부분이 어떤 역할을 하는지 명확하게 인지한다. 이는 가독성을 높이고 모델의 이해도를 향상시키는 가장 효과적인 방법 중 하나이다.
- [ ] **`<identity>`: 모델에 명확한 역할을 부여했는가?**
  - "너는 고객 문의에 응대하는 전문 상담원이다." 와 같이 구체적인 정체성을 부여하면, 모델의 응답 톤, 어휘 선택, 행동 방식이 일관성을 갖게 된다.
- [ ] **`<context>`: 모델이 처리할 데이터를 명시적으로 구분했는가?**
  - 실제 처리해야 할 사용자 입력이나 데이터는 `<user_input>` 또는 `<document>` 같은 태그로 감싸서, 지시사항과 명확히 분리해야 한다. 이는 모델이 어디까지가 명령어이고 어디부터가 처리할 데이터인지 혼동하지 않도록 돕는다.

<br>

### 2단계: 내용 작성 및 지시사항 구체화

이제 뼈대 안에 구체적인 살을 붙이는 단계이다. 지시는 모호하지 않고 구체적이어야 한다.

- [ ] **`<instructions>`: 지시사항을 번호 목록으로 명확하게 나열했는가?**
  - 모델은 순서가 있는 작업에 강하다. "1. ...하라. 2. ...하라." 와 같이 작업을 단계별로 나누어 지시하면, 복잡한 요청도 누락 없이 순서대로 처리할 확률이 높아진다.
- [ ] **출력 형식을 매우 구체적으로 명시했는가?**
  - "반드시 JSON 형식으로만 응답하라.", "응답은 '긍정', '부정', '중립' 중 하나의 단어여야 한다." 와 같이 원하는 결과물의 형태를 명확히 제한해야 한다. 그렇지 않으면 모델이 불필요한 설명을 덧붙여 후속 처리 과정을 방해할 수 있다.
- [ ] **`<examples>`: 고품질 Few-shot 예시를 2~3개 이상 포함했는가?**
  - 모델은 말로 된 설명보다 실제 예시를 통해 더 잘 학습한다. 입력과 원하는 출력의 쌍을 보여주는 것은 복잡한 규칙을 직관적으로 이해시키는 가장 강력한 방법이다. 특히, 정보가 누락된 경우(e.g., `company: null`)와 같은 예외 케이스를 예시로 포함하는 것이 매우 중요하다.

<br>

### 3단계: GPT-4.1 특화 최적화 및 디버깅

GPT-4.1 모델의 특성을 활용하여 성능을 한계까지 끌어올리고, 발생할 수 있는 오류를 사전에 방지하는 단계이다.

- [ ] **에이전트처럼 작동시키기 위해 '지속성', '도구 호출', '계획' 지침을 포함했는가?**
  - GPT-4.1은 이 세 가지 지침을 통해 수동적인 챗봇이 아닌, 능동적으로 목표를 완수하려는 에이전트처럼 행동하게 된다. (예: "문제가 해결될 때까지 작업을 계속하라.", "확신이 없다면 추측하지 말고 도구를 사용하라.")
- [ ] **중요한 지시사항을 프롬프트의 맨 위와 맨 아래에 반복 배치했는가?**
  - 긴 컨텍스트를 처리할 때, 모델이 프롬프트의 중간 부분을 잊어버리는 경향이 있다. 가장 중요한 규칙이나 목표는 프롬프트의 시작과 끝에 한 번씩 더 강조하여 모델이 항상 기억하도록 만든다.
- [ ] **예외 처리 규칙을 포함했는가?**
  - "만약 A를 찾을 수 없다면, B라고 응답하라." 또는 "만약 도구 호출에 필요한 정보가 없다면, 사용자에게 정보를 요청하라." 와 같이 예외 상황에 대한 행동 지침을 제공해야 한다. 이는 모델이 오류 상황에서 멈추거나 잘못된 정보를 지어내는 것을 방지한다.
- [ ] **예시 문구를 그대로 사용하지 않도록 지시했는가?**
  - 응답 예시를 제공할 때는 "이 표현들을 참고하되, 그대로 사용하지 말고 상황에 맞게 자연스럽게 변형하여 사용하라."고 명시해야 한다. 그렇지 않으면 모델이 창의성 없이 주어진 문구를 기계적으로 반복하게 된다.

<br>

### 4단계: 배포 및 관리

프롬프트를 실제 애플리케이션에 적용하고 지속적으로 관리하는 단계이다.

- [ ] **재사용 가능한 프롬프트로 만들어 대시보드에서 관리할 계획인가?**
  - 프롬프트를 코드에서 분리하여 OpenAI 대시보드에서 ID로 관리하면, 코드를 재배포하지 않고도 프롬프트를 수정하고 버전을 관리할 수 있어 유지보수가 매우 편리해진다.
- [ ] **프로덕션 환경에서는 특정 모델 버전을 고정했는가?**
  - 모델은 계속 업데이트되므로, 어제의 프롬프트가 오늘 다르게 동작할 수 있다. 일관된 결과를 위해 `gpt-4.1-2025-04-14`와 같이 특정 스냅샷 버전을 명시하여 사용해야 한다.
- [ ] **프롬프트 캐싱을 고려하여 메시지 순서를 구성했는가?**
  - API 요청 시 자주 반복되는 부분(예: `identity`, `instructions`, `examples`)을 메시지 목록의 앞부분에 배치하면, 캐싱을 통해 비용과 지연 시간을 절약할 수 있다.
