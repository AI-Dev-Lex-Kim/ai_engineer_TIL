# if **name** == **main**

파일이 실행되면 파이썬 인터프리터는 `__name__`이라는 특별한 변수를 설정한다.

`__name__` 변수 값은 실행 위치에 따라 달라진다.

<br>

## **name** 변수 값

### **그 파일에서 실행 시킨경우**

그 스크립트에서 실행 되었으니 `__name__`은 `__main__`이 된다.

<br>

### import 되온 경우

`import` 되어서 실행 되었다면, 그 스크립트의 `__name__`은 “해당 파일명’이 된다.

<br>

## `if __name__ == "__main__"`을 사용하는 이유와 시점

핵심적인 이유는 **하나의 파이썬 파일이 두 가지 목적을 모두 수행하게 만들기 위함이다.**

1. **모듈(Module)로서의 목적:** 다른 스크립트에서 `import`되어 함수나 클래스를 제공한다.
2. **독립적인 프로그램(Script)으로서의 목적:** 터미널에서 직접 실행하여 **자체적인 주요 기능을 수행**한다.

<br>

### 1. 애플리케이션의 Entry Point 지정

대부분의 프로그램에는 전체 로직을 시작하고 조율하는 `main()` 함수가 있다.

`if __name__ == "__main__"`은 이 `main()` 함수를 호출하는 **공식적인 시작 버튼**으로 사용된다.

<br>

### 2. 모듈의 테스트 코드 작성

내가 만든 모듈이 잘 작동하는지 간단히 테스트하고 싶을 때 유용하다.

테스트를 위한 별도 파일을 만들 필요 없이, **파일에서 테스트 코드를 작성**할 수 있다.

파일을 직접 실행했을때는 **name**이 **main** 이므로 테스트 코드가 동작하고

다른 파일에서 import 되어온 경우는 **name**이 “파일 이름” 이므로 테스트 코드가 동작하지 않는다.

```python
# 파일 이름: my_utils.py

# 다른 곳에서 유용하게 쓸 함수들
def add(a, b):
    """두 숫자를 더하는 유용한 함수"""
    return a + b

def multiply(a, b):
    """두 숫자를 곱하는 유용한 함수"""
    return a * b

# 이 모듈이 잘 만들어졌는지 확인하는 테스트 코드를 이 안에 작성한다.
# 이 코드는 다른 파일에서 add, multiply 함수를 임포트할 때는 절대 실행되지 않는다.
if __name__ == "__main__":
    print("my_utils.py 모듈을 자체적으로 테스트합니다.")

    # 1. add 함수 테스트
    result_add = add(10, 5)
    print(f"add(10, 5) 결과: {result_add}")
    assert result_add == 15 # 결과가 15가 아니면 에러 발생
    print("add 함수 테스트 통과!")

    # 2. multiply 함수 테스트
    result_multiply = multiply(10, 5)
    print(f"multiply(10, 5) 결과: {result_multiply}")
    assert result_multiply == 50 # 결과가 50이 아니면 에러 발생
    print("multiply 함수 테스트 통과!")
```

<br>

## 결론

결론적으로, `if __name__ == "__main__"`은 파이썬 코드를 **재사용 가능하고(reusable)**, **독립적으로 테스트 가능하며(testable)**, **구조적으로 만드는(well-structured)** 핵심적인 프로그래밍 패턴이다.
